---
layout: post
title: Alpine Docker 镜像漏洞（CVE-2019-5021）对FooT平台影响
categories: FooT容器平台
description: Alpine Docker 镜像漏洞（CVE-2019-5021）对FooT平台影响
keywords: 容器, FooT
---
<!DOCTYPE html><html><head><title>Untitled</title><meta charset='utf-8'><link href='https://cdn.maxiang.io/res-min/themes/marxico.css' rel='stylesheet'><style></style></head><body><div id='preview-contents' class='note-content'>



<p>婕忔礊瀹樻柟閾炬帴锛?a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-5021CVE-2019-5021Versions" target="_blank">https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-5021CVE-2019-5021Versions</a> of the Official Alpine Linux Docker images (since v3.3) contain a NULL password for the <code>root</code> user. This vulnerability appears to be the result of a regression introduced in December of 2015. Due to the nature of this issue, systems deployed using affected versions of the Alpine Linux container which utilize Linux PAM, or some other mechanism which uses the system shadow file as an authentication database, may accept a NULL password for the <code>root</code> user.</p>

<p>瀹樻柟瀵硅繖涓紡娲炵殑鎻忚堪涓猴細濡傛灉鍦?Docker 瀹瑰櫒涓畨瑁呬簡 shadow 杞欢鍖呭苟浠ラ潪 root 鐢ㄦ埛韬唤杩愯鏈嶅姟锛岄偅涔堝叿鏈?shell 璁块棶鏉冮檺鐨勭敤鎴峰彲鍦ㄥ鍣ㄥ唴瀵硅处鍙疯繘琛屾彁鏉冦€?鏍规嵁婕忔礊鎶ュ憡锛岃嚜 Alpine Linux 3.3 鐗堟湰寮€濮嬬殑鎵€鏈?Docker 闀滃儚涓紝root 鐢ㄦ埛鍖呭惈涓€涓┖瀵嗙爜锛岃繖鍙兘浼氬鑷存敾鍑昏€呰幏寰?root 鏉冮檺锛岃繘鑰岄€犳垚鏀诲嚮銆?/p>

<p><strong>鎶ュ憡涓О锛氬彈褰卞搷鑼冨洿鏄?Alpine Linux Docker 闀滃儚 3.3銆?.4銆?.5銆?.6銆?.7銆?.8銆?.9銆乪dge 绛夊叏閮ㄧ増鏈€?/strong></p>

<p>瀵嗙爜浠ュ姞瀵嗗舰寮忎繚瀛橈紝浣嗗厑璁镐互 root 韬唤鐧诲綍鑰屾棤闇€杈撳叆浠讳綍瀵嗙爜璇ユ紡娲炰粎閽堝 Alpine Linux 鐨?Docker 闀滃儚鐗堟湰锛屼笖瀹夎浜唖hadow鎴杔inux-pam杞欢鍖呮墠浼氬彈褰卞搷銆傚浜庝娇鐢ㄨ緝鏃х殑銆佷笉鍙楁敮鎸佺殑鐗堟湰锛屽彲浠ュ皢浠ヤ笅鍛戒护娣诲姞鍒?Dockerfile 鏉ヤ慨澶嶆紡娲烇細</p>

<pre><code class="language-css">
make sure root login is disabled
RUN sed -i -e's/^root::/root:!:/'/etc/shadow
</code></pre>

<p>鎴栬€呭嵏杞絪hadow鎴杔inux-pam杞欢鍖呫€?<br>
鎴戜滑鍒嗗埆鏉ョ湅瀹冪殑 /etc/passwd 鍜?/etc/shadow 鏂囦欢锛屽緢鏄庢樉锛屾鍒?root 鐢ㄦ埛鏄竴涓┖瀵嗙爜锛涘苟涓嶇鍚堥鏈熴€傝繖鏍蜂篃灏卞鑷翠簡琚敾鍑荤殑鍙兘鎬с€?/p>

<p><img title="" alt="Alt text" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfkAAABjCAMAAACv4olHAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABdUExURf///5A6AJHb/wAAZmYAAP//27b//wAAAGa2////tv/bkTqQ2/+2ZtuQOgBmtmpparZmAAAAOtv//w06kDpmtrVnOkECOj0AZjoAAJA6R2a20aXFihJmZjo6ALa2tpkwyG4AAAl3SURBVHja7V3ZYqM6DCUrJASSttNpZ7nz/595vUheZGwwhYYQ6cVxMN6O5e1ESnEtppfTviruJucf07xPQynv2/S7fc+HljNWsuq3OuSLWzXN+zQsikubfrPv+dByxkpe/daHPMsw0cifP8vy7TVneL1sv172YVOW0XzOH8dvGFGRduT2R3b/ebrvtKujPnYumLb911g3x6DaHeM9divLsoYPw4bG6ecWmncmPXdP5A+bWj8V7Wmd0LTrtPeQxvTya9kB0A8qChlUifU+ibyz/t8BeSjytBfNaRKLyT85+kXSRvRKV7qw6oD84dfxUt9D57szduKqzabt0C7VyI70J6jzP5vksKmKpvwbr7nYdSXb5ezK5kP+tP+9UWMadRtCOYRLMWqbWjRCjGF8LNLvVXo52cFgVcNf9o6HfOPlo+JaZwB5ofDuBkcWcBVVMnOMTq9afpMF6fxMfUk5509ZB/li470fm8JsvczXqORGnb123aBtci7YHW36kx2tZtqoXczCekiVxnbYfq1uWL5Seehf9/upkX/ZHn5toZWySdCDuuLikUBIzz4XXUMJJyDijkvx4I/bQJmH1BfTAQYuhbyeFUur9CLP4uaUD+nl67fa5of1DcoRCneWGWO8iS49qh0pncepR4XQrsMGRvzhVfeV0fm9GUA4TerXIdZRj/et7nfVZtOvIhd4RT832VfTKb6PvM70rOGoMIQHohVS61sH+UolPmwMzHqoy8FLl0FZBBSA+mB0XsDnnjh0vh9HLN8uo783lZMf7QRTjuji/2obd8rLRP4GUwqE0C414hu94VH67y7UpdfEpnIy7KiH0iPsR69fD6qp6jn2r/P9TMhj8aYaDvLn648AeTUdtU6DhWI6owF0+mVr9wuVh7yebW16neXHEQtxxrxeIiC/EDAoB0qPpdMFtoN03lvnoV3qs6y5mud95PVKgBjjthU6MFTX920aeVjl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" longdesc="./1-1.png" type="image/png"></p>

<p><img title="" alt="Alt text" src="data:image/png;base64,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" longdesc="./1-2.png" type="image/png"></p>

<p>鎿嶄綔绯荤粺鍏稿瀷甯歌鐨勯厤缃涓嬶細</p>

<pre><code class="language-css">
[root@ips106 ~]# grep root /etc/passwd
root:x:0:0:root:/root:/bin/bash
operator:x:11:0:operator:/root:/sbin/nologin
[root@ips106 ~]# grep root /etc/shadow
root:<span class="mathjax-replacement" rel="327c36301dc71617dc7032f8ce30b236">$6$</span>14YMCeNI$pQslPGn0/V.PPA2ycMMZrvCbp64Mgnu6gf.o3oNvDL3A0Uw6L8nk7tfCzqYj19os635ey/s35PhH42FW//QdY1:17504:0:99999:7:::
[root@ips106 ~]#
</code></pre>

<p>1銆乸ause闀滃儚锛屽熀浜庣┖闀滃儚鍒涘缓锛屼笉娑夊強alpine锛屾紡娲炴棤褰卞搷</p>

<pre><code class="language-css">
FROM scratch
ARG ARCH
ADD bin/pause-${ARCH} /pause
ENTRYPOINT ["/pause"]
</code></pre>

<p>2銆丏ocker-health闀滃儚鍩轰簬alpine:edge锛宎lpine婕忔礊褰卞搷瀹瑰櫒瀹夊叏</p>

<pre><code class="language-css">
 [#]Version 1.0
FROM alpine:edge
RUN apk add --update --no-cache --virtual curl &amp;&amp; \
rm -r /var/cache/apk &amp;&amp; \
rm -r /usr/share/man &amp;&amp; \
touch /htmp
CMD tail -f /htmp
</code></pre>

<p>3銆乺egistry闀滃儚鍩轰簬alpine:3.4,瀛樺湪璇ュ畨鍏ㄦ紡娲?/p>



<p><img title="" alt="Alt text" src="data:image/png;base64,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" longdesc="./1-3.png" type="image/png"></p>

<pre><code class="language-css">
[root@ips106 ~]# docker ps
CONTAINER ID        IMAGE                       COMMAND                  CREATED             STATUS              PORTS                     NAMES
b88c5798ab7b        registry:2.5.1              "/entrypoint.sh /etc鈥?   2 months ago        Up 2 months         0.0.0.0:35007-&gt;5000/tcp   ips-registry7
[root@ips106 ~]# docker exec -it b88c5798ab7b /bin/sh
/ # grep root /etc/passwd
root:x:0:0:root:/root:/bin/ash
operator:x:11:0:operator:/root:/bin/sh
/ # grep root /etc/shadow
root:::0:::::
/ #
</code></pre>

<p>4銆佷骇鍝乶ginx鍩虹闀滃儚涓哄畼鏂筺ginx闀滃儚锛岃闀滃儚涓璻oot璐︽埛宸茶绂佺敤锛屼笉瀛樺湪璇ユ紡娲?/p>

<pre><code class="language-css">
[root@ips28 test]# docker exec -it bacf767d2cc2 /bin/bash
root@bacf767d2cc2:/# grep root /etc/passwdroot:x:0:0:root:/root:/bin/bashroot@bacf767d2cc2:/# grep root /etc/shadowroot:*:18022:0:99999:7:::

</code></pre>

<p>5銆乭eapster鏈噰鐢ㄥ畼缃戦暅鍍忥紝浜у搧浣跨敤鐨刪eapster闀滃儚鍩轰簬alpine:3.7,瀛樺湪璇ュ畨鍏ㄩ殣鎮?铏界劧闀滃儚涓?etc/shadow鏂囦欢瀛樺湪root鐢ㄦ埛瀵嗙爜涓虹┖锛屼絾鏄暅鍍忎娇鐢ㄦ櫘閫氱敤鎴凤紝骞朵笖绂佹su锛屽悓鏃舵湭鎻愪緵sudo,鏃犳硶閫氳繃淇敼busybox鏉冮檺鎵撳紑su,鏃犳硶閫氳繃root瀵嗙爜涓虹┖鐨勬紡娲炴彁鏉冭闂€?/p>

<pre><code class="language-css">
[root@ips28 etc]# cat shadow
 root:::0:::::
[root@ips28 etc]# docker exec -it 8fda40024e8a /bin/sh
~ $ id
uid=65534(nobody) gid=65534(nobody)
~ $ su -
su: must be suid to work properly
~ $ cat /etc/alpine-release
3.7.0
~ $ grep root /etc/passwd
root:x:0:0:root:/root:/bin/ash
operator:x:11:0:operator:/root:/bin/sh
~ $ grep root /etc/shadow
grep: /etc/shadow: Permission denied
~ $  find -name busybox
./bin/busybox
find: ./proc/tty/driver: Permission denied
find: ./root: Permission denied
~ $ sudo chmod 4755 ./bin/busybox
/bin/sh: sudo: not found
~ $ chmod 4755 ./bin/busybox
chmod: ./bin/busybox: Operation not permitted
~ $
</code></pre>

<p>瀹樼綉heapster闀滃儚dockerfile</p>



<p><img title="" alt="Alt text" src="data:image/png;base64,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" longdesc="./1-4.png" type="image/png"></p>

<p>缁煎悎浠ヤ笂锛屽钩鍙扮洰鍓嶆彁渚涚殑闀滃儚鍖呭惈nginx /heapster/registry/docker-health/pause,鍏朵腑鍙湁docker-health锛堝熀浜巃lpine:edge锛夊拰registry锛堝熀浜巃lpine:3.4锛夊瓨鍦ㄨ瀹夊叏闅愭偅锛宧eapster铏界劧涔熸槸鍩轰簬3.7鐗堟湰鐨勯暅鍍忎絾鏄凡缁忛€氳繃绂佺敤su锛屾湭鎻愪緵sudo绂佹浜嗚婕忔礊鍙兘瀛樺湪鐨勬彁鏉冭涓恒€傞拡瀵瑰钩鍙拌€岃█鍙槸瀛樺湪椋庨櫓锛屽疄闄呭鎴戜滑骞冲彴涓嶅澶栧紑鏀剧殑闈炰笟鍔″鍣紝褰卞搷寰堝皬锛涢渶瑕佹敞鎰忕殑鏄笟鍔￠暅鍍忓埗浣滅殑鏃跺€欏敖閲忛伩鍏嶄娇鐢╝lpine鐨勮繖浜涚増鏈€傚崌绾т娇鐢ㄦ渶鏂扮増鏈殑alpine鍗冲彲銆?/p></div></body></html>
